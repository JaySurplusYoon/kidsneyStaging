{"ast":null,"code":"var _jsxFileName = \"/Users/jay_yoon/Downloads/kidsneyStaging/src/Pages/MyBag/MyBag.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport SubEvent from './SubEvent/SubEvent';\nimport OrderProduct from '../../Components/OrderProduct/OrderProduct';\nimport OrderSummary from './OrderSummary/OrderSummary';\nimport Button from '../../Components/Button/Button';\nimport EditModal from './EditModal/EditModal';\nimport { BASE_URL } from '../../config';\nimport './MyBag.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyBag = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [orderProducts, setOrderProducts] = useState([]);\n  const [editedProduct, setEditedProduct] = useState();\n  const [slideCount, setSlideCount] = useState(0);\n  const [isClosed, setIsClosed] = useState(false);\n  const shippingCost = 40.95;\n  const subTotal = orderProducts && orderProducts.length > 0 ? orderProducts.map(product => product.product.price).reduce((a, b) => parseInt(a) + parseInt(b)) : 0;\n  const total = (subTotal + shippingCost).toFixed(2);\n\n  const getData = async () => {\n    const res = await fetch(`${BASE_URL}/carts`, {\n      headers: {\n        Authorization: localStorage.getItem('token')\n      }\n    });\n    const data = await res.json();\n    setOrderProducts(data.carts);\n  };\n\n  useEffect(() => getData(), []);\n\n  const addSlideCount = () => {\n    slideCount === 1 ? setSlideCount(slideCount) : setSlideCount(slideCount + 1);\n  };\n\n  const subTractSlideCount = () => {\n    slideCount === -1 ? setSlideCount(slideCount) : setSlideCount(slideCount - 1);\n  };\n\n  const goToMain = () => {\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myBag\",\n    children: [!isClosed && editedProduct && /*#__PURE__*/_jsxDEV(EditModal, {\n      editedProduct: editedProduct,\n      setIsClosed: setIsClosed,\n      setOrderProducts: setOrderProducts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"event\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subEvent left\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/promotion/creditcard.png\",\n          alt: \"banner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Earn a $100 Statement Credit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"after you spend $100 in your first 3 months with a new Kidsney\\xAE Visa\\xAE Card.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subEvent right\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"leftBtn\",\n          onClick: addSlideCount,\n          disabled: slideCount >= 1,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"left fas fa-angle-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SubEvent, {\n          slideCount: slideCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"rightBtn\",\n          onClick: subTractSlideCount,\n          disabled: slideCount <= -1,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"left fas fa-angle-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), orderProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title\",\n        children: [\"My Bag (\", orderProducts.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contents\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orderProducts\",\n          children: orderProducts.map(orderProduct => /*#__PURE__*/_jsxDEV(OrderProduct, {\n            orderProduct: orderProduct,\n            orderProducts: orderProducts,\n            setEditedProduct: setEditedProduct,\n            setIsClosed: setIsClosed\n          }, orderProduct.cart_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(OrderSummary, {\n          subTotal: subTotal,\n          total: total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"empty\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fas fa-shopping-bag\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Bag is Empty!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Not seeing items you've added?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"signIn\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: \"Continue Shopping\",\n        functionType: goToMain\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MyBag, \"Kzh4TY9Pes06RG4JXTjtfjO4mIg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MyBag;\nexport default MyBag;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyBag\");","map":{"version":3,"sources":["/Users/jay_yoon/Downloads/kidsneyStaging/src/Pages/MyBag/MyBag.js"],"names":["React","useEffect","useState","useNavigate","SubEvent","OrderProduct","OrderSummary","Button","EditModal","BASE_URL","MyBag","navigate","orderProducts","setOrderProducts","editedProduct","setEditedProduct","slideCount","setSlideCount","isClosed","setIsClosed","shippingCost","subTotal","length","map","product","price","reduce","a","b","parseInt","total","toFixed","getData","res","fetch","headers","Authorization","localStorage","getItem","data","json","carts","addSlideCount","subTractSlideCount","goToMain","orderProduct","cart_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\n\nimport SubEvent from './SubEvent/SubEvent';\nimport OrderProduct from '../../Components/OrderProduct/OrderProduct';\nimport OrderSummary from './OrderSummary/OrderSummary';\nimport Button from '../../Components/Button/Button';\nimport EditModal from './EditModal/EditModal';\nimport { BASE_URL } from '../../config';\n\nimport './MyBag.scss';\n\nconst MyBag = () => {\n  const navigate = useNavigate();\n  const [orderProducts, setOrderProducts] = useState([]);\n  const [editedProduct, setEditedProduct] = useState();\n  const [slideCount, setSlideCount] = useState(0);\n  const [isClosed, setIsClosed] = useState(false);\n\n  const shippingCost = 40.95;\n  const subTotal =\n    orderProducts && orderProducts.length > 0\n      ? orderProducts\n          .map(product => product.product.price)\n          .reduce((a, b) => parseInt(a) + parseInt(b))\n      : 0;\n  const total = (subTotal + shippingCost).toFixed(2);\n\n  const getData = async () => {\n    const res = await fetch(`${BASE_URL}/carts`, {\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n    });\n    const data = await res.json();\n\n    setOrderProducts(data.carts);\n  };\n\n  useEffect(() => getData(), []);\n\n  const addSlideCount = () => {\n    slideCount === 1\n      ? setSlideCount(slideCount)\n      : setSlideCount(slideCount + 1);\n  };\n\n  const subTractSlideCount = () => {\n    slideCount === -1\n      ? setSlideCount(slideCount)\n      : setSlideCount(slideCount - 1);\n  };\n\n  const goToMain = () => {\n    navigate('/');\n  };\n\n  return (\n    <div className=\"myBag\">\n      {!isClosed && editedProduct && (\n        <EditModal\n          editedProduct={editedProduct}\n          setIsClosed={setIsClosed}\n          setOrderProducts={setOrderProducts}\n        />\n      )}\n      <div className=\"event\">\n        <div className=\"subEvent left\">\n          <img src=\"/images/promotion/creditcard.png\" alt=\"banner\" />\n          <div className=\"description\">\n            <h2>Earn a $100 Statement Credit</h2>\n            <p>\n              after you spend $100 in your first 3 months with a new Kidsney®\n              Visa® Card.\n            </p>\n          </div>\n        </div>\n\n        <div className=\"subEvent right\">\n          <button\n            className=\"leftBtn\"\n            onClick={addSlideCount}\n            disabled={slideCount >= 1}\n          >\n            <i className=\"left fas fa-angle-left\" />\n          </button>\n          <SubEvent slideCount={slideCount} />\n          <button\n            className=\"rightBtn\"\n            onClick={subTractSlideCount}\n            disabled={slideCount <= -1}\n          >\n            <i className=\"left fas fa-angle-right\" />\n          </button>\n        </div>\n      </div>\n      {orderProducts.length > 0 ? (\n        <main>\n          <h2 className=\"title\">My Bag ({orderProducts.length})</h2>\n          <div className=\"contents\">\n            <div className=\"orderProducts\">\n              {orderProducts.map(orderProduct => (\n                <OrderProduct\n                  key={orderProduct.cart_id}\n                  orderProduct={orderProduct}\n                  orderProducts={orderProducts}\n                  setEditedProduct={setEditedProduct}\n                  setIsClosed={setIsClosed}\n                />\n              ))}\n            </div>\n            <OrderSummary subTotal={subTotal} total={total} />\n          </div>\n        </main>\n      ) : (\n        <main className=\"empty\">\n          <i class=\"fas fa-shopping-bag\" />\n          <h2>Your Bag is Empty!</h2>\n          <p>Not seeing items you've added?</p>\n          <p className=\"signIn\">Sign in</p>\n          <Button text=\"Continue Shopping\" functionType={goToMain} />\n        </main>\n      )}\n    </div>\n  );\n};\n\nexport default MyBag;\n"]},"metadata":{},"sourceType":"module"}