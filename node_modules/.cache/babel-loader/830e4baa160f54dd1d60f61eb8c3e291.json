{"ast":null,"code":"var _jsxFileName = \"/Users/jay_yoon/Downloads/kidsneyStaging/src/Components/Nav/Modal/SignUpModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { BASE_URL } from '../../../config';\nimport '../Nav.scss';\nimport './SignUpModal.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpModal = _ref => {\n  _s();\n\n  let {\n    closeModal,\n    setActiveModal\n  } = _ref;\n\n  const goToLoginModal = () => {\n    setActiveModal('loginModal');\n  };\n\n  const [inputValue, setInputValue] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    password: '',\n    phone_number: '',\n    date_of_birth: ''\n  });\n  const {\n    first_name,\n    last_name,\n    email,\n    password,\n    phone_number,\n    date_of_birth\n  } = inputValue;\n  const isValidEmail = email.includes('@') && email.includes('.');\n  const specialLetter = password.search(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,}$/);\n  const isValidPassword = password.length >= 8;\n  const checkPhonenumber = phone_number.search(/^01(?:0|1|[6-9])-(?:\\d{3}|\\d{4})-\\d{4}$/);\n  const isValidInput = first_name.length >= 1 && last_name.length >= 1 && date_of_birth.length >= 1;\n  const getIsActive = isValidEmail && specialLetter === 0 && isValidPassword && checkPhonenumber === 0 && isValidInput;\n\n  const handleButtonValid = () => {\n    if (!isValidEmail) {\n      alert('이메일 형식이 맞지 않습니다.');\n      return false;\n    } else if (specialLetter === -1) {\n      alert('비밀번호에 대문자, 소문자, 특수문자를 포함해주세요.');\n      return false;\n    } else if (!isValidPassword) {\n      alert('비밀번호 8자 이상으로 적어주세요');\n      return false;\n    } else if (checkPhonenumber === -1) {\n      alert('핸드폰번호 형식은 010-0000-0000 입니다.');\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  function handleInputValue(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputValue(inputValue => ({ ...inputValue,\n      [name]: value\n    }));\n  }\n\n  function goToLogin() {\n    handleButtonValid() && fetch(`${BASE_URL}/users/signup`, {\n      method: 'POST',\n      body: JSON.stringify({\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        password: password,\n        phone_number: phone_number,\n        date_of_birth: date_of_birth\n      })\n    }).then(res => {\n      if (res.ok) {\n        alert('회원가입 성공!');\n        goToLoginModal();\n      } else if (res.status === 400) {\n        throw new Error('Not Found');\n      } else {\n        throw new Error('Unexpected Http Status Code');\n      }\n\n      return res.json();\n    }).catch(error => {\n      // eslint-disable-next-line no-console\n      console.log(error.message);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signUpModal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signUp\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"logo\",\n        children: \"KIDSNEY account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"closeBtn\",\n        onClick: closeModal,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Your Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"signUpContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"firstName\",\n          type: \"text\",\n          placeholder: \"First Name\",\n          onChange: handleInputValue,\n          name: \"first_name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"lastName\",\n          type: \"text\",\n          placeholder: \"Last Name\",\n          onChange: handleInputValue,\n          name: \"last_name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signUpEmail\",\n          type: \"email\",\n          placeholder: \"Email Address\",\n          onChange: handleInputValue,\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signUpPw\",\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: handleInputValue,\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"phoneNumber\",\n          type: \"text\",\n          placeholder: \"Phone Number\",\n          onChange: handleInputValue,\n          name: \"phone_number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"birthDate\",\n          type: \"text\",\n          placeholder: \"Birth Date yyyy-mm-dd\",\n          onChange: handleInputValue,\n          name: \"date_of_birth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: getIsActive ? 'signUpButtonActive' : 'signUpButton',\n          type: \"button\",\n          onClick: goToLogin,\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goToSignIn\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: goToLoginModal,\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUpModal, \"50yJzVy4N9hskQ4tymGJgV0vJ0k=\");\n\n_c = SignUpModal;\nexport default SignUpModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpModal\");","map":{"version":3,"sources":["/Users/jay_yoon/Downloads/kidsneyStaging/src/Components/Nav/Modal/SignUpModal.js"],"names":["React","useState","BASE_URL","SignUpModal","closeModal","setActiveModal","goToLoginModal","inputValue","setInputValue","first_name","last_name","email","password","phone_number","date_of_birth","isValidEmail","includes","specialLetter","search","isValidPassword","length","checkPhonenumber","isValidInput","getIsActive","handleButtonValid","alert","handleInputValue","e","name","value","target","goToLogin","fetch","method","body","JSON","stringify","then","res","ok","status","Error","json","catch","error","console","log","message"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { BASE_URL } from '../../../config';\nimport '../Nav.scss';\nimport './SignUpModal.scss';\n\nconst SignUpModal = ({ closeModal, setActiveModal }) => {\n  const goToLoginModal = () => {\n    setActiveModal('loginModal');\n  };\n\n  const [inputValue, setInputValue] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    password: '',\n    phone_number: '',\n    date_of_birth: '',\n  });\n\n  const {\n    first_name,\n    last_name,\n    email,\n    password,\n    phone_number,\n    date_of_birth,\n  } = inputValue;\n\n  const isValidEmail = email.includes('@') && email.includes('.');\n  const specialLetter = password.search(\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,}$/\n  );\n  const isValidPassword = password.length >= 8;\n\n  const checkPhonenumber = phone_number.search(\n    /^01(?:0|1|[6-9])-(?:\\d{3}|\\d{4})-\\d{4}$/\n  );\n\n  const isValidInput =\n    first_name.length >= 1 &&\n    last_name.length >= 1 &&\n    date_of_birth.length >= 1;\n\n  const getIsActive =\n    isValidEmail &&\n    specialLetter === 0 &&\n    isValidPassword &&\n    checkPhonenumber === 0 &&\n    isValidInput;\n\n  const handleButtonValid = () => {\n    if (!isValidEmail) {\n      alert('이메일 형식이 맞지 않습니다.');\n      return false;\n    } else if (specialLetter === -1) {\n      alert('비밀번호에 대문자, 소문자, 특수문자를 포함해주세요.');\n      return false;\n    } else if (!isValidPassword) {\n      alert('비밀번호 8자 이상으로 적어주세요');\n      return false;\n    } else if (checkPhonenumber === -1) {\n      alert('핸드폰번호 형식은 010-0000-0000 입니다.');\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  function handleInputValue(e) {\n    const { name, value } = e.target;\n    setInputValue(inputValue => ({ ...inputValue, [name]: value }));\n  }\n\n  function goToLogin() {\n    handleButtonValid() &&\n      fetch(`${BASE_URL}/users/signup`, {\n        method: 'POST',\n        body: JSON.stringify({\n          first_name: first_name,\n          last_name: last_name,\n          email: email,\n          password: password,\n          phone_number: phone_number,\n          date_of_birth: date_of_birth,\n        }),\n      })\n        .then(res => {\n          if (res.ok) {\n            alert('회원가입 성공!');\n            goToLoginModal();\n          } else if (res.status === 400) {\n            throw new Error('Not Found');\n          } else {\n            throw new Error('Unexpected Http Status Code');\n          }\n          return res.json();\n        })\n        .catch(error => {\n          // eslint-disable-next-line no-console\n          console.log(error.message);\n        });\n  }\n\n  return (\n    <div className=\"signUpModal\">\n      <div className=\"signUp\">\n        <h1 className=\"logo\">KIDSNEY account</h1>\n        <button className=\"closeBtn\" onClick={closeModal}>\n          X\n        </button>\n        <h2>Create Your Account</h2>\n        <form className=\"signUpContainer\">\n          <input\n            className=\"firstName\"\n            type=\"text\"\n            placeholder=\"First Name\"\n            onChange={handleInputValue}\n            name=\"first_name\"\n          />\n          <input\n            className=\"lastName\"\n            type=\"text\"\n            placeholder=\"Last Name\"\n            onChange={handleInputValue}\n            name=\"last_name\"\n          />\n          <input\n            className=\"signUpEmail\"\n            type=\"email\"\n            placeholder=\"Email Address\"\n            onChange={handleInputValue}\n            name=\"email\"\n          />\n          <input\n            className=\"signUpPw\"\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handleInputValue}\n            name=\"password\"\n          />\n          <input\n            className=\"phoneNumber\"\n            type=\"text\"\n            placeholder=\"Phone Number\"\n            onChange={handleInputValue}\n            name=\"phone_number\"\n          />\n          <input\n            className=\"birthDate\"\n            type=\"text\"\n            placeholder=\"Birth Date yyyy-mm-dd\"\n            onChange={handleInputValue}\n            name=\"date_of_birth\"\n          />\n          <button\n            className={getIsActive ? 'signUpButtonActive' : 'signUpButton'}\n            type=\"button\"\n            onClick={goToLogin}\n          >\n            Create Account\n          </button>\n          <div className=\"goToSignIn\">\n            <p>\n              Already have an account?&nbsp;\n              <button onClick={goToLoginModal}>Sign In</button>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpModal;\n"]},"metadata":{},"sourceType":"module"}