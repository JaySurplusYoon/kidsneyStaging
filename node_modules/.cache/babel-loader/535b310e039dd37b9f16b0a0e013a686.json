{"ast":null,"code":"var _jsxFileName = \"/Users/jay_yoon/Downloads/kidsneyStaging/src/Pages/Checkout/Checkout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Shipping from './Component/Shipping/Shipping';\nimport Payment from './Component/Payment/Payment';\nimport { BASE_URL } from '../../config.js';\nimport Order from './Component/Order/Order';\nimport './Checkout.scss'; //부모:마이박스에서 섭토탈, 토탈 받아오기\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = _ref => {\n  _s();\n\n  let {\n    subtotal,\n    total\n  } = _ref;\n  const [orderInfo, setOrderInfo] = useState({\n    zipCode: null,\n    addressMain: null,\n    addressDetail: null,\n    updateAddress: null,\n    wayOfShipping: null,\n    wayOfPayment: null\n  });\n\n  const orderInfoHandler = e => {\n    const {\n      className,\n      value\n    } = e.target;\n    setOrderInfo({ ...orderInfo,\n      [className]: value\n    });\n  };\n\n  const orderNecessaryInfo = orderInfo.zipCode && orderInfo.addressDetail && orderInfo.wayOfShipping && orderInfo.wayOfPayment;\n\n  const patchAddress = () => {\n    fetch(`${BASE_URL}/users/`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        zip_code: orderInfo.zipCode,\n        location: orderInfo.addressMain,\n        datail_address: orderInfo.addressDetail\n      })\n    }).then(response => {\n      if (response.ok) {\n        alert('주소변경이 완료되었습니다.');\n      } else {\n        throw new Error('Unexpected Error');\n      }\n    }).catch(error => {\n      // eslint-disable-next-line no-console\n      console.log(error.message);\n    });\n  };\n\n  const postBalance = () => {\n    fetch(`${BASE_URL}/orders`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        total_price: subtotal\n      })\n    }).then(response => {\n      if (response.ok) {\n        alert('주문이 완료되었습니다.');\n      } else if (response.message === 'moneyless') {\n        alert('잔액이 부족합니다...안타깝습니다..');\n      } else if (response.message === 'stockless') {\n        alert('재고가 부족합니다...분발하겠습니다..');\n      } else {\n        throw new Error('Unexpected Error');\n      }\n    }).catch(error => {\n      // eslint-disable-next-line no-console\n      console.log(error.message);\n    });\n  };\n\n  const submitOrder = () => {\n    if (orderNecessaryInfo) {\n      if (orderInfo.updateAddress) {\n        postBalance();\n      } else {\n        postBalance();\n      }\n    } else alert('정보를 모두 입력해주세요');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Checkout\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Complete your Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wholeWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ProcessWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Shipping, {\n          orderInfoHandler: orderInfoHandler,\n          orderInfo: orderInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Payment, {\n          orderInfoHandler: orderInfoHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Order, {\n        subtotal: subtotal,\n        total: total,\n        submitOrder: submitOrder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Checkout, \"mJZAUN9aB/BJlUm8GUNHim3rv00=\");\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["/Users/jay_yoon/Downloads/kidsneyStaging/src/Pages/Checkout/Checkout.js"],"names":["React","useState","Shipping","Payment","BASE_URL","Order","Checkout","subtotal","total","orderInfo","setOrderInfo","zipCode","addressMain","addressDetail","updateAddress","wayOfShipping","wayOfPayment","orderInfoHandler","e","className","value","target","orderNecessaryInfo","patchAddress","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","zip_code","location","datail_address","then","response","ok","alert","Error","catch","error","console","log","message","postBalance","total_price","submitOrder"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Shipping from './Component/Shipping/Shipping';\nimport Payment from './Component/Payment/Payment';\nimport { BASE_URL } from '../../config.js';\nimport Order from './Component/Order/Order';\nimport './Checkout.scss';\n\n//부모:마이박스에서 섭토탈, 토탈 받아오기\nconst Checkout = ({ subtotal, total }) => {\n  const [orderInfo, setOrderInfo] = useState({\n    zipCode: null,\n    addressMain: null,\n    addressDetail: null,\n    updateAddress: null,\n    wayOfShipping: null,\n    wayOfPayment: null,\n  });\n\n  const orderInfoHandler = e => {\n    const { className, value } = e.target;\n    setOrderInfo({ ...orderInfo, [className]: value });\n  };\n\n  const orderNecessaryInfo =\n    orderInfo.zipCode &&\n    orderInfo.addressDetail &&\n    orderInfo.wayOfShipping &&\n    orderInfo.wayOfPayment;\n\n  const patchAddress = () => {\n    fetch(`${BASE_URL}/users/`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({\n        zip_code: orderInfo.zipCode,\n        location: orderInfo.addressMain,\n        datail_address: orderInfo.addressDetail,\n      }),\n    })\n      .then(response => {\n        if (response.ok) {\n          alert('주소변경이 완료되었습니다.');\n        } else {\n          throw new Error('Unexpected Error');\n        }\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.log(error.message);\n      });\n  };\n\n  const postBalance = () => {\n    fetch(`${BASE_URL}/orders`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({\n        total_price: subtotal,\n      }),\n    })\n      .then(response => {\n        if (response.ok) {\n          alert('주문이 완료되었습니다.');\n        } else if (response.message === 'moneyless') {\n          alert('잔액이 부족합니다...안타깝습니다..');\n        } else if (response.message === 'stockless') {\n          alert('재고가 부족합니다...분발하겠습니다..');\n        } else {\n          throw new Error('Unexpected Error');\n        }\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.log(error.message);\n      });\n  };\n\n  const submitOrder = () => {\n    if (orderNecessaryInfo) {\n      if (orderInfo.updateAddress) {\n        postBalance();\n      } else {\n        postBalance();\n      }\n    } else alert('정보를 모두 입력해주세요');\n  };\n\n  return (\n    <div className=\"Checkout\">\n      <h1>Complete your Order</h1>\n      <div className=\"wholeWrapper\">\n        <div className=\"ProcessWrapper\">\n          <Shipping orderInfoHandler={orderInfoHandler} orderInfo={orderInfo} />\n          <Payment orderInfoHandler={orderInfoHandler} />\n        </div>\n        <Order subtotal={subtotal} total={total} submitOrder={submitOrder} />\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}